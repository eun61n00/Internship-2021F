#4th Week

### 2021.09.27 Mon
**33개가 df에서 유실된게 맞는지 확인 -> Df 유실 13개, 중복 11개, 삭제 7개 (중복 브랜드 2개) -> df 유실은 추가 크롤링** (완료)
v4와 df_brd_w_prd_v2의 **개수 + 상품 이름까지 같이 비교**

-> 상품 이름이 달라진 경우 多

1. 상품 정보 업데이트(변경 + 추가)된 경우 → 1171개 상품
2. 상품 정보가 삭제된 경우(=df_brd_w_prd_v2에서 잡히지 않는 경우) → 7개 상품
3. 상품 정보가 추가된 경우(=v4에서 잡히지 않는 경우) → 489개 상품



* '**V4 완전히 만들기**

(1) 제품명이 변경된 제품의 이름 바꾸기 (약 1667개 제품 객체 정보 크롤링 → 업데이트)
제품명과 객체 정보를 업데이트하는데에는 약 1-2일 소요 예상

(2) v4에서 유실된 제품 객체 정보 받기
상품명을 업데이트하지 않은 현재 v4에서 df보다 적은 상품을 가지고 있는 브랜드 227개
227개 브랜드를 기준으로 유실된 제품 객체 정보를 받기 까지는 2-3일 소요 예상

* **추가된 브랜드 (약 4000개)의 제품 링크 + 제품명 수집**

​	-> 검색할 브랜드 이름만 받으면 바로 크롤링 가능. 약 4000개의 제품을 받는데 대략 1일 소요


### 2021.09.28.Tue
- v4업데이트를 위해 어제 진행한 크롤링은 변경된 상품명을 기준으로 '상품명'을 글로우픽에서 검색하여 크롤링을 진행하였지만, 상품명 전체를 입력하여도, 표시되지 않는 상품 발견,

- 브랜드와 상품을 unique하게 잡을 수 있는 것은 오로지 브랜드 id와 상품 id로 파악 → 상품 id를 포함하고 있는 상품 src로 v4를 없데이트 하기로 결정

- 앞으로도 계속 사용할 **상품 src로 제품 객체 정보 수집을 위한 코드** 작성

  [코드를 짜며 대응한 issue)]

  1. 상품마다 랭킹 /  수상내역 여부가 모두 다름 → 전체보기 클릭 X path가 달라짐
  2. 클래스가 잡히지 않는 문제 → 정규식을 이용해 문자열 slice로 해결
  3. 데이터 프레임 전역 변수 (미해결)

### 2021.09.29.Wed
1. 제품 객체 정보 수집 코드 scrap_prd_detail() 완료
2. V4 업데이트 해야 할 사항 확인
   - V4에는 있는데 크롤링한 fnl_df_brd_w_prd에 없는 것은 모두 삭제 (총 63465개 상품 중 843개 상품 삭제)
   - fnl_df_brd_w_prd에는 있는데 v4에는 없는 상품 src 추출(1661개) → 크롤링 진행
3. 글로우픽 제품 이미지 크롤링 코드 작성 완료 → 우선적으로 2000개 브랜드의 제품 이미지 크롤링 진행

### 2021. 10. 01. Fri

**(issue) df_brd_w_prd_v2에서 중복값 확인**

1. link 기준으로 중복 상품이 있는 브랜드는 8개
2. 중복 뿐만 아니라 유실값이 있는지 확인 필요

   -> df_brd_w_prd_v1에서의 상품 개수와 현재 표시되는 상품 div의 length를 비교 (크롤링 진행 중)

   